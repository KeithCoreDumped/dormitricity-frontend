# 通知の設定方法

Dormitricity は、電力残高が低いか、間もなく枯渇すると推定されるときに警告するために、さまざまなチャネルを通じて通知をサポートしています。Webhook ボット（WeCom、Feishu）または ServerChan 通知 API から選択できます。

## 通知の設定

サブスクリプションの通知を設定するには、次の手順に従ってください：

1.  **設定を開く：** ダッシュボードで、設定したい寮のサブスクリプションカードを見つけます。「設定」ボタンをクリックして通知設定ダイアログを開きます。

2.  **チャネルを選択：** 「通知チャネル」ドロップダウンメニューから希望する通知チャネルを選択します。「なし」、「WeCom」、「Feishu」、「ServerChan」から選択できます。

3.  **トークンまたは Webhook URL を提供：**
    *   **自動検出：** 完全な Webhook URL を「通知トークン / Webhook URL」フィールドに直接貼り付けることができます。システムは自動的にチャネル（WeCom、Feishu、または ServerChan）を検出します。
    *   **手動入力：** トークンまたは SendKey のみをお持ちの場合は、フィールドに貼り付けてから、ドロップダウンから正しいチャネルを手動で選択できます。

4.  **通知ルールを設定：**
    *   **低電力しきい値：** 電力残高が特定のレベルを下回ったときに通知を受け取るには、このオプションを有効にします。kWh でしきい値を設定できます。
    *   **枯渇しきい値：** システムが電力が特定の時間内に枯渇すると推定するときに通知を受け取るには、このオプションを有効にします。

5.  **クールダウンを設定：** ドロップダウンメニューからクールダウン期間を選択します。これは、スパムを防ぐために通知の間に経過しなければならない最小時間です。

6.  **保存：** 「保存」ボタンをクリックして設定を適用します。

## チャネル固有の説明

### WeCom (企業微信)

[公式の WeCom チュートリアル](https://open.work.weixin.qq.com/help2/pc/14931)に従ってボットを作成し、Webhook URL を取得します。URL を設定ダイアログに貼り付けます。

### Feishu (飛書)

WeCom と同様に、Feishu グループでボットを作成して Webhook URL を取得できます。URL またはトークン部分のみを設定に貼り付けます。

### ServerChan (Server酱)

[ServerChan](https://sct.ftqq.com/) は、さまざまな個人チャネルを通じて通知を受け取ることができるサービスです。SendKey を取得してトークンとして使用できます。